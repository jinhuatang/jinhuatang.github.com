<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title></title>
        <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet" />
        <link href="../css/post.css" rel="stylesheet" />
    </head>
    <body>
        <a href="../posts.html">&lt;&lt;返回</a>
        <div class="post">
        <h1>shell学习 2013-2-20</h1>
<h2>参数</h2>
<p>学习shell过程中，首先碰到问题就是shell如何接受参数，因为只有这样才能进行多样性的input和out
put。</p>
<p>这里记下以作备忘：</p>
<ul>
<li><code>$#</code>：这里的<code>#</code>代表number，自然数表示第几个参数，第0个指参数前的命令</li>
<li><code>$*</code>：代表所有参数</li>
</ul>
<p>示例代码：</p>
<pre><code class="lang-shell"><span class="shebang">#!/bin/bash</span>
<span class="comment">#test.sh</span>
<span class="keyword">echo</span> all params: $*
<span class="keyword">echo</span> first param: <span class="variable">$1</span></code></pre>
<p>运行：</p>
<pre><code class="lang-shell">./test.sh p1 p2 p3  
<span class="title">all</span> params: p1 p2 p3  
<span class="title">first</span> param: p1</code></pre>
<h2>sed递归文件替换内容</h2>
<p>一般情况下使用这个命令即可<code>find . -type f | xargs sed -i &#39;s/old/new/g&#39;</code><br>但是当文件名有空格，则会出现异常，因为空格相当于分成多个参数了<br>解决办法为<code>find . -type f -print0 | xargs -0 sed -i &#39;s/old/new/g&#39;</code><br><code>-print0</code>将在字符串尾部加<code>\0</code>即<code>null</code>，<code>xargs</code>的<code>-0</code>表示用<code>\0</code>分隔符来解析参数，这样配合使用问题解决</p>

        </div>
        <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
    </body>
</html>